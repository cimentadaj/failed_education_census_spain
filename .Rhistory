renv::init()
renv::init()
renv::status()
MicroDatosEs::censo2010
MicroDatosEs:::read.fwf.microdata
pryr::mem_used()
class(read_data)
nrow(read_data)
ncol(read_data)
read_data
r_make()
r_make()
r_make()
r_make()
r_make()
r_make()
r_make()
drake::drake_gc()
tst <- loadd(read_data) %>% as_tibble()
tst <- loadd(read_data) %>% as_tibble()
tst
drake::clean()
r_make()
tst <- loadd(read_data) %>% as_tibble()
tst
drake_gc()
drake_gc()
tst <- read_fst(processed_path)
nrow(tst)
ncol(tst)
tst %>% as_tibble()
rm(tst)
pryr::mem_used()
pryr::mem_used()
tst <- read_fst(file_in(processed_path), columns = columns_to_read)
tst %>% as_tibble()
renv::init()
renv::init()
drake::r_make()
r_make()
r_make()
drake_gc()
loadd(census_2011)
census_2011 %>% as_tibble()
census_2011 %>% as_tibble() %>% count(CMUN)
census_2011 %>% as_tibble() %>% count(CMUN) %>% arrange(CMUN)
census_2011 %>% as_tibble() %>% count(CMUN) %>% arrange(CMUN) %>% print(n = Inf)
census_2011 %>% as_tibble()
variable_coding
variable_coding
variable_coding
here()
census_shp
shp_file
file.exists(shp_file)
file.exists(shp_file)
plot(cca[0])
all_shp
all_shp %>% print(ncol = Inf)
all_shp %>% print(n_extra = 10)
all_shp %>% print(n_extra = 20)
all_shp %>% print(n_extra = 100)
all_shp %>% print(width = 20)
all_shp %>% print(width = 1)
all_shp %>% print(width = 100)
all_shp %>% print(width = 200)
all_shp %>% distinct(CMUN)
unique(all_shp$CMUN)
pryr::mem_used()
census_2011 %>% as_tibble()
loadd(census_2011)
census_2011
census_2011 %>% as_tibble()
unique(census_2011$CMUN)
census %>% as_tibble()
formatC(c("1", "02", "6"), width = 3, flat = 0)
formatC(c("1", "02", "6"), width = 3, flag = 0)
formatC(c("1", "02", "6"), width = 3, flag = "0")
formatC(c("1", "02", "6"), width = 3, digits = "0")
formatC(c("1", "02", "6"), width = 3, digits = "0", flag = "0")
formatC(c("1", "02", "6"), width = 3, digits = "0")
formatC(c("1", "02", "6"), width = 3, flag = "0")
f
formatC(c("1", "02", "6"), width = 3, flag = "000")
formatC(c("1", "02", "6"), width = 3, flag = "0")
formatC(c("1", "02", "6"), width = 5, flag = "0")
formatC(c("1", "02", "6"), width = 3, flag = "0")
formatC(c("1", "02", "6"), width = 3, flag = "0", digits = 0)
formatC(c("1", "02", "6"), width = 3, flag = "0", digits = "0")
formatC(c("1", "02", "6"), width = 3, flag = "0", digits = "3")
formatC(c("1", "02", "6"), width = 3, flag = "0", digits = 3)
formatC(c("1", "02", "6"), flag = "0", digits = 3)
formatC(c("1", "02", "6"), width = 3, flag = "0", format = "d")
formatC(c("1", "02", "6"), width = 3, flag = "5")
formatC(c("1", "02", "6"), width = 3, flag = 0)
formatC(c("1", "02", "6"), width = 3, flag = 0, format = "i")
formatC(c("1", "02", "6"), width = 3)
formatC(c("1", "02", "6"), width = 6, format = "d", flag = "0")
formatC(c(1, 2, 6), width = 6, format = "d", flag = "0")
stringr::str_pad(c("1", "2"), width = 3, pad = 0)
stringr::str_pad(c("1", "2", "whatever"), width = 3, pad = 0)
census %>% as_tibble()
r_make()
loadd(census_2011)
census_2011 %>% as_tibble()
drake_gc()
all_shp
pryr::mem_used()
pryr::object_size(all_shp)
pryr::object_size(census_2011)
r_make()
r_make()
r_make()
r_make()
drake_gc()
all_shp
names(census_2011)
census_2011 %>% as_tibble()
all_shp
print(all_shp, width = 200)
all_shp
pryr::mem_used()
all_shp
nrow(census_2011)
as_tibble(census_2011)
all_shp
all_shp
census_2011
census_2011 %>% as_tibble()
all_shp %>% class()
all_shp
all_shp <- all_shp[1:100, ]
all_shp
census_2011
all_shp
all_shp
all_shp %>% filter(CMUN == "001")
all_shp %>% filter(CMUN == "001") %>% select(NCA)
all_shp %>% filter(CUMUN == "01001") %>% select(NCA)
all_shp
all_shp %>% count(CUMUN)
all_shp %>% count(CUMUN) %>% filter(n > 1)
all_shp
all_shp %>% count(CUMUN) %>% filter(n > 1)
all_shp
all_shp$NCA %>% unique()
all_shp$NCA %>% unique() %>% Encoding()
all_shp$NCA %>% unique() %>% stringr::str_conv(encoding = "UTF-8")
all_shp$NCA %>% unique() %>% stringi::stri_trans_general(id = "Latin-ASCII")
renv::snapshot()
y
    read_sf(shp_file) %>%
    mutate_at(vars(NMUN, NPRO, NCA), stri_trans_general, id = "Latin-ASCII")
all_shp %>% count(CMUN) %>% filter(n > 1)
all_shp %>% count(CUMUN) %>% filter(n > 1)
all_shp %>% count(CUMUN) %>% filter(n == 1)
all_shp
pryr::mem_used()
tst_shp
census_2011
census_2011 %>% as_tibble()
variable_coding
variable_coding %>% print(n = Inf)
censo2010
system.file("metadata", "censo_2010_mdat2.txt", package = "MicroDatosEs")
c(1 = "hhey")
c("1" = "hhey")
c(1, 2, 3)[c("1" = "hey", "2" = "pos", "3" = "poass")]
c(1, 2, 3)[c("hey" = "1", "pos" = "2", "pass" = "3")]
c("1", "2", "3")[c("hey" = "1", "pos" = "2", "pass" = "3")]
c("1", "2", "3")[c("1" = "hey", "2" = "pos", "3" = "poass")]
c("1")[c("1" = "hey")]
c("1")[c("hey" = "1")]
c(1)[c("hey" = "1")]
c("hey" = "1")
c("hey" = "1")["hey"]
c("hey" = "1")[c("hey", "hey")]
census_2011
census_2011
census_2011 %>% filter(CUMUN == "01001")
census_2011 %>% filter(CUMUN == "01002")
census_2011 %>% filter(CUMUN == "01010")
census_2011 %>% distinct(CUMUN)
census_2011 %>% filter(CUMUN == "01059")
tst_shp
tst_census
tst_merge
print(tst_merge, n = Inf)
print(tst_merge, width = Inf)
tst_merge
tst_merge %>% filter(is.na(geometry))
tst_merge
tst_merge %>% count(available)
tst_merge
tst_census
tst_merge %>% filter(CUMUN == "01059")
tst_merge %>% filter(CUMUN == "02009")
tst_merge
r_make()
loadd(census_2011)
ls()
